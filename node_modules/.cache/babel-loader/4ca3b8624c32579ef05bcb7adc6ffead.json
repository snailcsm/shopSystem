{"remainingRequest":"F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\node_modules\\babel-loader\\lib\\index.js!F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\src\\views\\rights\\Roles.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\src\\views\\rights\\Roles.vue","mtime":1637042899755},{"path":"F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\babel.config.js","mtime":1635736884335},{"path":"F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635841480656},{"path":"F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1635841477678},{"path":"F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1635841480656},{"path":"F:\\学习资料\\vue\\电商系统\\wwwroot\\shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1635841509972}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUm9sZXMiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByb2xlRGF0YTogW10sCiAgICAgIHNlcnZlckRhdGE6IFtdLAogICAgICByaWdodERhdGE6IFtdLAogICAgICBmUjogW10sCiAgICAgIC8v5a2Y5pS+5omA5pyJ5LiA57qn5p2D6ZmQCiAgICAgIHNSOiBbXSwKICAgICAgLy/lrZjmlL7miYDmnInkuoznuqfmnYPpmZAKICAgICAgdFI6IFtdLAogICAgICAvL+WtmOaUvuaJgOacieS4iee6p+adg+mZkAogICAgICBmaXJzdFI6IFtdLAogICAgICAvL+WtmOaUvuW9k+WJjeeUqOaIt+eahOS4gOe6p+adg+mZkAogICAgICBzZWNvbmRSOiBbXSwKICAgICAgdGhpcmRSOiBbXSwKICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAgIGZvcm1MYWJlbFdpZHRoOiAnMjAwcHgnLAogICAgICBhZGRSb2xlRGlhbG9nOiBmYWxzZSwKICAgICAgbmV3Um9sZTogewogICAgICAgIHJvbGVyVGl0bGU6ICcnLAogICAgICAgIGl0cm86ICcnCiAgICAgIH0sCiAgICAgIGVkaXRSb2xlRGlhbG9nOiBmYWxzZSwKICAgICAgZWRpdFJvbGVEYXRhOiB7fSwKICAgICAgcnVsZXM6IHsKICAgICAgICByb2xlclRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6KeS6Imy5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGl0cm86IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXop5LoibLku4vnu40nLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFJvbGVEYXRhKCk7CiAgICB0aGlzLmdldFJpZ2h0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/lj5HpgIHnvZHnu5zor7fmsYLojrflj5bop5LoibLmlbDmja4KICAgIGdldFJvbGVEYXRhOiBmdW5jdGlvbiBnZXRSb2xlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAuZ2V0KCcvcm9sZScpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vY29uc29sZS5sb2cocmVzLmRhdGEpOwogICAgICAgIF90aGlzLnJvbGVEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXMuc2VydmVyRGF0YSA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvL+WPkemAgee9kee7nOivt+axguiOt+WPluadg+mZkOaVsOaNrgogICAgZ2V0UmlnaHREYXRhOiBmdW5jdGlvbiBnZXRSaWdodERhdGEoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kaHR0cC5nZXQoJy9yaWdodHMnKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIucmlnaHREYXRhID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXMyLmZSID0gX3RoaXMyLnJpZ2h0RGF0YS5maWx0ZXIoZnVuY3Rpb24gKHIpIHsKICAgICAgICAgIHJldHVybiByLmxldmFsID09PSAxOwogICAgICAgIH0pOwogICAgICAgIF90aGlzMi5zUiA9IF90aGlzMi5yaWdodERhdGEuZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByZXR1cm4gci5sZXZhbCA9PT0gMjsKICAgICAgICB9KTsKICAgICAgICBfdGhpczIudFIgPSBfdGhpczIucmlnaHREYXRhLmZpbHRlcihmdW5jdGlvbiAocikgewogICAgICAgICAgcmV0dXJuIHIubGV2YWwgPT09IDM7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVzZXJSaWdodDogZnVuY3Rpb24gZ2V0VXNlclJpZ2h0KHJvdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuZmlyc3RSID0gW107CiAgICAgIHRoaXMuc2Vjb25kUiA9IFtdOwogICAgICB0aGlzLnRoaXJkUiA9IFtdOwogICAgICB2YXIgcmlnaHRBcnJ5ID0gcm93LnJpZ2h0cy5zcGxpdCgnLCcpOwogICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICAgIF90aGlzMy50Ui5maWx0ZXIoZnVuY3Rpb24gKHIpIHsKICAgICAgICAgICAgaWYgKHIuaWQgPT09IHJpZ2h0QXJyeVtpXSkgewogICAgICAgICAgICAgIF90aGlzMy50aGlyZFIucHVzaChyKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgOwogICAgICAgICAgfSk7CgogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH07CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmlnaHRBcnJ5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBfbG9vcChpKTsKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgdmFyIF9sb29wMiA9IGZ1bmN0aW9uIF9sb29wMihqKSB7CiAgICAgICAgICAgIF90aGlzMy5zUi5maWx0ZXIoZnVuY3Rpb24gKHIyKSB7CiAgICAgICAgICAgICAgaWYgKHIyLmlkID09IF90aGlzMy50aGlyZFJbal0ucGlkKSB7CiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLnNlY29uZFIuaW5kZXhPZihyMikgPCAwKSB7CiAgICAgICAgICAgICAgICAgIHIyLmNoaWxkcmUucHVzaChfdGhpczMudGhpcmRSW2pdKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMy5zZWNvbmRSLnB1c2gocjIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9OwoKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX3RoaXMzLnRoaXJkUi5sZW5ndGg7IGorKykgewogICAgICAgICAgICBfbG9vcDIoaik7CiAgICAgICAgICB9CgogICAgICAgICAgOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgIHZhciBfbG9vcDMgPSBmdW5jdGlvbiBfbG9vcDMobikgewogICAgICAgICAgICAgIF90aGlzMy5mUi5maWx0ZXIoZnVuY3Rpb24gKHIzKSB7CiAgICAgICAgICAgICAgICBpZiAocjMuaWQgPT0gX3RoaXMzLnNlY29uZFJbbl0ucGlkKSB7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczMuZmlyc3RSLmluZGV4T2YocjMpIDwgMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy5maXJzdFIucHVzaChyMyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgX3RoaXMzLnNlY29uZFIubGVuZ3RoOyBuKyspIHsKICAgICAgICAgICAgICBfbG9vcDMobik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZpcnN0Uik7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2codGhpcy5zZWNvbmRSKTsKICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnRoaXJkUik7CiAgICAgICAgICAgIHJvdy5yaWdodHMgPSBfdGhpczMuZmlyc3RSOwogICAgICAgICAgICBjb25zb2xlLmxvZyhyb3cpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vdGFn54K55Ye75Yig6ZmkCiAgICByZW1vdmVSaWdodDogZnVuY3Rpb24gcmVtb3ZlUmlnaHQocm9sZU9iaiwgcmlnaHRPYmopIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICAvL+abtOaWsOavj+S4gOS4que6p+WIq+eahOadg+mZkAogICAgICBpZiAocmlnaHRPYmoubGV2YWwgPT0gMykgewogICAgICAgIHRoaXMudGhpcmRSID0gdGhpcy50aGlyZFIuZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByZXR1cm4gci5pZCAhPT0gcmlnaHRPYmouaWQ7CiAgICAgICAgICByb2xlT2JqLnJpZ2h0cyA9IF90aGlzNC5kZWxldGVSaWdodChyb2xlT2JqLCByaWdodE9iai5pZCk7CiAgICAgICAgfSk7IC8v5aaC5p6c5a2Q5p2D6ZmQ5Yig6Zmk5a6M5LqG77yM5a+55bqU55qE54i25p2D6ZmQ5Lmf5Yig6ZmkCgogICAgICAgIHZhciByZXN1bHRPYmogPSB0aGlzLmNvdW50UmVtYWluKHRoaXMudGhpcmRSLCByaWdodE9iai5waWQsIHRoaXMuc2Vjb25kUik7IC8v5Yig6Zmk5LqM57qn5p2D6ZmQCgogICAgICAgIHRoaXMuc2Vjb25kUiA9IHJlc3VsdE9iai5wcmV2UmlnaHQ7CiAgICAgICAgdmFyIHJlc3VsdE9iajIgPSB0aGlzLmNvdW50UmVtYWluKHRoaXMuc2Vjb25kUiwgcmVzdWx0T2JqLm5leHRQaWQsIHRoaXMuZmlyc3RSKTsgLy/liKDpmaTkuIDnuqfmnYPpmZAKCiAgICAgICAgdGhpcy5maXJzdFIgPSByZXN1bHRPYmoyLnByZXZSaWdodDsKICAgICAgfQoKICAgICAgaWYgKHJpZ2h0T2JqLmxldmFsID09IDIpIHsKICAgICAgICB0aGlzLnNlY29uZFIgPSB0aGlzLnNlY29uZFIuZmlsdGVyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICByZXR1cm4gci5pZCAhPT0gcmlnaHRPYmouaWQ7CiAgICAgICAgICBfdGhpczQudGhpcmRSID0gX3RoaXM0LnRoaXJkUi5maWx0ZXIoZnVuY3Rpb24gKHIzKSB7CiAgICAgICAgICAgIHJldHVybiByMy5waWQgIT09IHIyLmlkOwogICAgICAgICAgICByb2xlT2JqLnJpZ2h0cyA9IF90aGlzNC5kZWxldGVSaWdodChyb2xlT2JqLCByMy5pZCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB2YXIgcmVzdWx0T2JqMyA9IHRoaXMuY291bnRSZW1haW4odGhpcy5zZWNvbmRSLCByaWdodE9iai5waWQsIHRoaXMuZmlyc3RSKTsgLy/liKDpmaTkuIDnuqfmnYPpmZAKCiAgICAgICAgdGhpcy5maXJzdFIgPSByZXN1bHRPYmozLnByZXZSaWdodDsKICAgICAgfQoKICAgICAgaWYgKHJpZ2h0T2JqLmxldmFsID09IDEpIHsKICAgICAgICB0aGlzLmZpcnN0UiA9IHRoaXMuZmlyc3RSLmZpbHRlcihmdW5jdGlvbiAocikgewogICAgICAgICAgaWYgKHIuaWQgPT0gcmlnaHRPYmouaWQpIHsKICAgICAgICAgICAgX3RoaXM0LnNlY29uZFIgPSBfdGhpczQuc2Vjb25kUi5maWx0ZXIoZnVuY3Rpb24gKHIyKSB7CiAgICAgICAgICAgICAgaWYgKHIyLnBpZCA9PSByLmlkKSB7CiAgICAgICAgICAgICAgICBfdGhpczQudGhpcmRSID0gX3RoaXM0LnRoaXJkUi5maWx0ZXIoZnVuY3Rpb24gKHIzKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyMy5waWQgPT0gcjIuaWQpIHsKICAgICAgICAgICAgICAgICAgICByb2xlT2JqLnJpZ2h0cyA9IF90aGlzNC5kZWxldGVSaWdodChyb2xlT2JqLCByMy5pZCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiByMy5waWQgIT09IHIyLmlkOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gcjIucGlkICE9PSByLmlkOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gci5pZCAhPT0gcmlnaHRPYmouaWQ7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL+abtOaWsOeUqOaIt+eahOadg+mZkAogICAgZGVsZXRlUmlnaHQ6IGZ1bmN0aW9uIGRlbGV0ZVJpZ2h0KHJvbGVPYmosIHJpZCkgewogICAgICAvLyBjb25zb2xlLmxvZyhyb2xlT2JqKQogICAgICB2YXIgc3RyID0gcmlkICsgIiwiOwogICAgICB2YXIgc3NzID0gIiI7IC8vICBjb25zb2xlLmxvZygic3RyIitzdHIrIi0tLXJpZCIrcmlkKQoKICAgICAgaWYgKHJvbGVPYmoucmlnaHRzLmluZGV4T2Yoc3RyKSA+IC0xKSB7CiAgICAgICAgc3NzID0gcm9sZU9iai5yaWdodHMucmVwbGFjZShzdHIsICIiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzc3MgPSByb2xlT2JqLnJpZ2h0cy5yZXBsYWNlKCIsIiArIHJpZCwgIiIpOwogICAgICB9IC8vICBjb25zb2xlLmxvZyhzc3MpCgoKICAgICAgcmV0dXJuIHNzczsKICAgIH0sCiAgICAvL+WtkOadg+mZkOWIoOmZpOWQjuiHquWKqOWIoOmZpOeItuadg+mZkAogICAgY291bnRSZW1haW46IGZ1bmN0aW9uIGNvdW50UmVtYWluKHJpZ2h0QXJyeSwgcGlkLCBwcmV2UmlnaHQpIHsKICAgICAgdmFyIGNvdW50ID0gcmlnaHRBcnJ5LnJlZHVjZShmdW5jdGlvbiAocHJlLCBjdXIpIHsKICAgICAgICBpZiAoY3VyLnBpZCA9PSBwaWQpIHsKICAgICAgICAgIHByZSsrOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHByZTsKICAgICAgfSwgMCk7CiAgICAgIHZhciBuZXh0UGlkID0gLTE7CgogICAgICBpZiAoY291bnQgPT0gMCkgewogICAgICAgIHByZXZSaWdodCA9IHByZXZSaWdodC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLmlkID09IHBpZCkgewogICAgICAgICAgICBuZXh0UGlkID0gaXRlbS5waWQ7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgIT0gcGlkOwogICAgICAgIH0pOyAvLyBjb25zb2xlLmxvZyhwcmV2UmlnaHQpCiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgbmV4dFBpZDogbmV4dFBpZCwKICAgICAgICBwcmV2UmlnaHQ6IHByZXZSaWdodAogICAgICB9OwogICAgfSwKICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgICAvL+WIoOmZpOinkuiJsgogICAgZGVsZXRlUm9sOiBmdW5jdGlvbiBkZWxldGVSb2woaWQpIHsKICAgICAgdGhpcy5yb2xlRGF0YSA9IHRoaXMucm9sZURhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgIT09IGlkOwogICAgICB9KTsKICAgIH0sCiAgICAvL+eCueWHu+WIhumFjeadg+mZkAogICAgZGlzcGFjaFJpZ2h0OiBmdW5jdGlvbiBkaXNwYWNoUmlnaHQoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn5q2j5Zyo5bu66K6+5LitJyk7CiAgICB9LAogICAgLy/ngrnlh7vmt7vliqDop5LoibIKICAgIHRvQWRkUm9sZTogZnVuY3Rpb24gdG9BZGRSb2xlKCkgewogICAgICB0aGlzLmFkZFJvbGVEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlQWRkOiBmdW5jdGlvbiBjbG9zZUFkZCgpIHsKICAgICAgdGhpcy5hZGRSb2xlRGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgYWRkUm9sZTogZnVuY3Rpb24gYWRkUm9sZSgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmFkZFJvbGVSZWYudmFsaWRhdGUoZnVuY3Rpb24gKHZhbHVlLCBvYmopIHsKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIF90aGlzNS5yb2xlRGF0YS51bnNoaWZ0KEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXM1Lm5ld1JvbGUpKSk7CgogICAgICAgICAgX3RoaXM1LiRtZXNzYWdlLnN1Y2Nlc3MoIua3u+WKoOaIkOWKnyIpOwoKICAgICAgICAgIF90aGlzNS5hZGRSb2xlRGlhbG9nID0gZmFsc2U7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBfdGhpczUuJG1lc3NhZ2UuZXJyb3Iob2JqW09iamVjdC5rZXlzKG9iailbMF1dWzBdLm1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJJbmZvOiBmdW5jdGlvbiBjbGVhckluZm8oKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkUm9sZVJlZi5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIHRvRWRpdFJvbGU6IGZ1bmN0aW9uIHRvRWRpdFJvbGUodmFsdWUpIHsKICAgICAgdGhpcy5lZGl0Um9sZURhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7CiAgICAgIHRoaXMuZWRpdFJvbGVEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlRWRpdDogZnVuY3Rpb24gY2xvc2VFZGl0KCkgewogICAgICB0aGlzLmVkaXRSb2xlRGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgZWRpdFJvbGU6IGZ1bmN0aW9uIGVkaXRSb2xlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuZWRpdFJvbGVSZWYudmFsaWRhdGUoZnVuY3Rpb24gKHZhbHVlLCBvYmopIHsKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIF90aGlzNi5yb2xlRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmlkID09IF90aGlzNi5lZGl0Um9sZURhdGEuaWQpIHsKICAgICAgICAgICAgICBpdGVtLml0cm8gPSBfdGhpczYuZWRpdFJvbGVEYXRhLml0cm87CiAgICAgICAgICAgICAgaXRlbS5yb2xlclRpdGxlID0gX3RoaXM2LmVkaXRSb2xlRGF0YS5yb2xlclRpdGxlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczYuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+u5pS55oiQ5Yqf77yBJyArIF90aGlzNi5lZGl0Um9sZURhdGEuaXRybyk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczYuZWRpdFJvbGVEaWFsb2cgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIF90aGlzNi4kbWVzc2FnZS5lcnJvcihvYmpbT2JqZWN0LmtleXMob2JqKVswXV1bMF0ubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbGVhclNldDogZnVuY3Rpb24gY2xlYXJTZXQoKSB7CiAgICAgIHRoaXMuJHJlZnMuZWRpdFJvbGVSZWYucmVzZXRGaWVsZHMoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Roles.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"roles\">\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item :to=\"{ path: '/rights' }\">权限管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>角色列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <div class=\"page-contain\">\r\n      <!--添加角色按钮-->\r\n      <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"toAddRole\">添加角色</el-button>\r\n\r\n      <!--角色列表-->\r\n      <el-table :data=\"roleData\" style=\"width: 100%\" border @expand-change=\"getUserRight\">\r\n        <!--展开列-->\r\n        <el-table-column width=\"55\" type=\"expand\">\r\n          <template slot-scope=\"scope\">\r\n            <el-row class=\"tb-bottom\" :id=\"scope.row.id\" v-for=\"tag in firstR\" :key=\"tag.id\">\r\n              <el-col :span=\"3\">\r\n                <el-tag class=\"right-tag\" closable @close=\"removeRight(scope.row,tag)\">{{tag.authName}}</el-tag>\r\n              </el-col>\r\n              <el-col :span=\"21\">\r\n                <el-row class=\"tb-bottom\" v-for=\"tag2 in secondR.filter(p=>p.pid==tag.id)\" :key=\"tag2.id\">\r\n                  <el-col class=\"tb-left\" :span=\"3\">\r\n                    <el-tag class=\"right-tag\" closable type=\"danger\" @close=\"removeRight(scope.row,tag2)\">\r\n                      {{tag2.authName}}\r\n                    </el-tag>\r\n                  </el-col>\r\n                  <el-col class=\"tb-left\" :span=\"18\">\r\n                    <el-tag class=\"right-tag\" v-for=\"tag3 in thirdR.filter(p=>p.pid==tag2.id)\" :key=\"tag3.id\"\r\n                            type=\"warning\" closable @close=\"removeRight(scope.row,tag3)\">{{tag3.authName}}\r\n                    </el-tag>\r\n                  </el-col>\r\n                </el-row>\r\n              </el-col>\r\n            </el-row>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column width=\"80\" type=\"index\" label=\"序号\"></el-table-column>\r\n        <el-table-column label=\"角色名称\" prop=\"rolerTitle\" width=\"300\"></el-table-column>\r\n        <el-table-column prop=\"itro\" label=\"角色简介\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"400\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" @click=\"toEditRole(scope.row)\">编辑</el-button>\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" @click=\"deleteRol(scope.row.id)\">删除</el-button>\r\n            <el-button type=\"warning\" icon=\"el-icon-set\" @click=\"dispachRight\">分配权限</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!--添加角色对话框-->\r\n      <el-dialog title=\"添加新角色\" :visible.sync=\"addRoleDialog\" @close=\"clearInfo\">\r\n        <el-form :model=\"newRole\" ref=\"addRoleRef\" :rules=\"rules\">\r\n          <el-form-item label=\"角色名称：\" :label-width=\"formLabelWidth\" prop=\"rolerTitle\">\r\n            <el-input v-model=\"newRole.rolerTitle\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色描述：\" :label-width=\"formLabelWidth\" prop=\"itro\">\r\n            <el-input v-model=\"newRole.itro\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"closeAdd\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addRole\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <!--编辑角色对话框-->\r\n      <el-dialog title=\"编辑角色\" :visible.sync=\"editRoleDialog\" @close=\"clearSet\">\r\n        <el-form :model=\"editRoleData\" ref=\"editRoleRef\" :rules=\"rules\">\r\n          <el-form-item label=\"角色名称：\" :label-width=\"formLabelWidth\" prop=\"rolerTitle\">\r\n            <el-input v-model=\"editRoleData.rolerTitle\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色描述：\" :label-width=\"formLabelWidth\" prop=\"itro\">\r\n            <el-input v-model=\"editRoleData.itro\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"closeEdit\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"editRole\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Roles\",\r\n    data() {\r\n      return {\r\n        roleData: [],\r\n        serverData: [],\r\n        rightData: [],\r\n        fR: [],//存放所有一级权限\r\n        sR: [],//存放所有二级权限\r\n        tR: [],//存放所有三级权限\r\n        firstR: [],//存放当前用户的一级权限\r\n        secondR: [],\r\n        thirdR: [],\r\n        /////////////////////\r\n        formLabelWidth: '200px',\r\n        addRoleDialog: false,\r\n        newRole: {\r\n          rolerTitle: '',\r\n          itro: ''\r\n        },\r\n        editRoleDialog: false,\r\n        editRoleData: {\r\n        },\r\n        rules: {\r\n          rolerTitle: [{required: true, message: '请输入角色名称', trigger: 'blur'}],\r\n          itro: [{required: true, message: '请输入角色介绍', trigger: 'blur'}]\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.getRoleData();\r\n      this.getRightData();\r\n    },\r\n    methods: {\r\n      //发送网络请求获取角色数据\r\n      getRoleData() {\r\n        this.$http.get('/role').then((res => {\r\n          //console.log(res.data);\r\n          this.roleData = res.data;\r\n          this.serverData = res.data;\r\n        }))\r\n      },\r\n      //发送网络请求获取权限数据\r\n      getRightData() {\r\n        this.$http.get('/rights').then((res => {\r\n          this.rightData = res.data;\r\n          this.fR = this.rightData.filter(r => {\r\n            return r.leval === 1\r\n          })\r\n          this.sR = this.rightData.filter(r => {\r\n            return r.leval === 2\r\n          })\r\n          this.tR = this.rightData.filter(r => {\r\n            return r.leval === 3\r\n          });\r\n        }))\r\n      },\r\n      getUserRight(row) {\r\n        this.firstR = [];\r\n        this.secondR = [];\r\n        this.thirdR = [];\r\n        const rightArry = row.rights.split(',');\r\n        new Promise((resolve) => {\r\n          for (let i = 0; i < rightArry.length; i++) {\r\n            this.tR.filter(r => {\r\n              if (r.id === rightArry[i]) {\r\n                this.thirdR.push(r);\r\n              }\r\n              ;\r\n            });\r\n            resolve();\r\n          }\r\n        }).then(() => {\r\n          return new Promise((resolve) => {\r\n\r\n            for (let j = 0; j < this.thirdR.length; j++) {\r\n              this.sR.filter(r2 => {\r\n                if (r2.id == this.thirdR[j].pid) {\r\n                  if (this.secondR.indexOf(r2) < 0) {\r\n                    r2.childre.push(this.thirdR[j]);\r\n                    this.secondR.push(r2);\r\n                  }\r\n                }\r\n              })\r\n            }\r\n            ;\r\n            resolve();\r\n          }).then(() => {\r\n            return new Promise(resolve => {\r\n              for (let n = 0; n < this.secondR.length; n++) {\r\n                this.fR.filter(r3 => {\r\n                  if (r3.id == this.secondR[n].pid) {\r\n                    if (this.firstR.indexOf(r3) < 0) {\r\n                      this.firstR.push(r3);\r\n                    }\r\n                  }\r\n                })\r\n              }\r\n             resolve();\r\n            }).then(()=>{\r\n             // console.log(this.firstR);\r\n             //console.log(this.secondR);\r\n              //console.log(this.thirdR);\r\n             row.rights=this.firstR;\r\n              console.log(row);\r\n\r\n            })\r\n          })\r\n        })\r\n      },\r\n      //tag点击删除\r\n      removeRight(roleObj, rightObj) {\r\n        //更新每一个级别的权限\r\n        if (rightObj.leval == 3) {\r\n          this.thirdR = this.thirdR.filter(r => {\r\n            return r.id !== rightObj.id;\r\n            roleObj.rights = this.deleteRight(roleObj, rightObj.id);\r\n          });\r\n\r\n          //如果子权限删除完了，对应的父权限也删除\r\n          let resultObj = this.countRemain(this.thirdR, rightObj.pid, this.secondR);//删除二级权限\r\n          this.secondR = resultObj.prevRight;\r\n          let resultObj2 = this.countRemain(this.secondR, resultObj.nextPid, this.firstR);//删除一级权限\r\n          this.firstR = resultObj2.prevRight;\r\n\r\n        }\r\n        if (rightObj.leval == 2) {\r\n          this.secondR = this.secondR.filter(r => {\r\n            return r.id !== rightObj.id;\r\n            this.thirdR = this.thirdR.filter(r3 => {\r\n              return r3.pid !== r2.id;\r\n              roleObj.rights = this.deleteRight(roleObj, r3.id);\r\n\r\n            })\r\n\r\n          });\r\n          let resultObj3 = this.countRemain(this.secondR, rightObj.pid, this.firstR);//删除一级权限\r\n          this.firstR = resultObj3.prevRight;\r\n        }\r\n        if (rightObj.leval == 1) {\r\n          this.firstR = this.firstR.filter(r => {\r\n            if (r.id == rightObj.id) {\r\n              this.secondR = this.secondR.filter(r2 => {\r\n                if (r2.pid == r.id) {\r\n                  this.thirdR = this.thirdR.filter(r3 => {\r\n                    if (r3.pid == r2.id) {\r\n                      roleObj.rights = this.deleteRight(roleObj, r3.id);\r\n                    }\r\n                    return r3.pid !== r2.id;\r\n                  })\r\n                }\r\n                return r2.pid !== r.id;\r\n              })\r\n            }\r\n\r\n            return r.id !== rightObj.id;\r\n          })\r\n        }\r\n\r\n      },\r\n      //更新用户的权限\r\n      deleteRight(roleObj, rid) {\r\n        // console.log(roleObj)\r\n        let str = rid + \",\";\r\n        let sss = \"\";\r\n        //  console.log(\"str\"+str+\"---rid\"+rid)\r\n        if (roleObj.rights.indexOf(str) > -1) {\r\n          sss = roleObj.rights.replace(str, \"\");\r\n        } else {\r\n          sss = roleObj.rights.replace(\",\" + rid, \"\");\r\n        }\r\n        //  console.log(sss)\r\n        return sss;\r\n      },\r\n      //子权限删除后自动删除父权限\r\n      countRemain(rightArry, pid, prevRight) {\r\n        let count = rightArry.reduce((pre, cur) => {\r\n          if (cur.pid == pid) {\r\n            pre++;\r\n          }\r\n          return pre;\r\n        }, 0);\r\n\r\n        let nextPid = -1;\r\n        if (count == 0) {\r\n          prevRight = prevRight.filter(item => {\r\n            if (item.id == pid) {\r\n              nextPid = item.pid;\r\n            }\r\n            return item.id != pid;\r\n          })\r\n\r\n          // console.log(prevRight)\r\n        }\r\n        return {nextPid, prevRight};\r\n      },\r\n\r\n      //////////////////////////////////////\r\n      //删除角色\r\n      deleteRol(id) {\r\n        this.roleData = this.roleData.filter(item => {\r\n          return item.id !== id;\r\n        })\r\n      },\r\n      //点击分配权限\r\n      dispachRight() {\r\n        this.$message.info('正在建设中')\r\n      },\r\n      //点击添加角色\r\n      toAddRole() {\r\n\r\n        this.addRoleDialog = true;\r\n      },\r\n      closeAdd() {\r\n        this.addRoleDialog = false;\r\n\r\n      },\r\n      addRole() {\r\n        this.$refs.addRoleRef.validate((value, obj) => {\r\n          if (value) {\r\n            this.roleData.unshift(JSON.parse(JSON.stringify(this.newRole)));\r\n            this.$message.success(\"添加成功\");\r\n            this.addRoleDialog = false;\r\n          } else {\r\n            return this.$message.error(obj[Object.keys(obj)[0]][0].message);\r\n          }\r\n        })\r\n      },\r\n      clearInfo() {\r\n        this.$refs.addRoleRef.resetFields();\r\n      },\r\n      toEditRole(value) {\r\n        this.editRoleData = JSON.parse(JSON.stringify(value));\r\n        this.editRoleDialog = true;\r\n\r\n      },\r\n      closeEdit() {\r\n        this.editRoleDialog = false;\r\n      },\r\n      editRole() {\r\n\r\n        this.$refs.editRoleRef.validate((value, obj) => {\r\n          if (value) {\r\n              this.roleData.forEach(item=>{\r\n              if(item.id== this.editRoleData.id){\r\n                item.itro=this.editRoleData.itro;\r\n                item.rolerTitle=this.editRoleData.rolerTitle;\r\n              }\r\n                this.$message.success('修改成功！'+this.editRoleData.itro);\r\n            })\r\n         this.editRoleDialog = false;\r\n          } else {\r\n            return this.$message.error(obj[Object.keys(obj)[0]][0].message);\r\n          }\r\n        })\r\n      },\r\n      clearSet() {\r\n        this.$refs.editRoleRef.resetFields();\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  .tb-bottom {\r\n    border-bottom: 1px #8f9cad solid;\r\n  }\r\n\r\n  .tb-bottom:last-child {\r\n    border: none;\r\n  }\r\n\r\n  .tb-left {\r\n    border-left: 1px #8f9cad solid;\r\n  }\r\n\r\n  .right-tag {\r\n    margin: 5px;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/views/rights"}]}